<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contact Form Test</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container my-5">
    <h2>Send Me a Message</h2>
    <form id="contactForm">
        <div class="mb-3">
            <label for="name" class="form-label">Your Name:</label>
            <input type="text" id="name" name="from_name" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Your Email:</label>
            <input type="email" id="email" name="from_email" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="message" class="form-label">Message:</label>
            <textarea id="message" name="user_message" class="form-control" rows="4" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Send Message</button>
    </form>
    <p id="confirmationMessage" class="mt-3 text-success fw-bold" style="display: none;">
        Thanks! Your message has been received.
    </p>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- EmailJS SDK -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<script>
    // Initialize EmailJS with your public key
    emailjs.init("bGg0Iu7WJCRIrTkHv");

    const form = document.getElementById("contactForm");
    const confirmationMessage = document.getElementById("confirmationMessage");

    form.addEventListener("submit", function (event) {
        event.preventDefault();

        // Read input values from form elements
        const templateParams = {
            from_name: form.name.value.trim(),
            from_email: form.email.value.trim(),
            user_message: form.message.value.trim(),
            time: new Date().toLocaleString()
        };

        // Basic validation
        if (!templateParams.from_name || !templateParams.from_email || !templateParams.user_message) {
            alert("Please fill out all fields.");
            return;
        }

        console.log("Sending email with data:", templateParams);

        // Send via EmailJS
        emailjs.send("service_xoa49ow", "template_b0e100k", templateParams)
            .then((response) => {
                console.log("Email successfully sent!", response);
                confirmationMessage.style.display = "block";
                form.reset();
            })
            .catch((error) => {
                console.error("Error sending email:", error);
                alert("Error sending message. Check console for details.");
            });
    });
</script>

</body>
</html>
